<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Events</title>

<style>
body{
  margin:0;
  padding:14px;
  font-family:system-ui,-apple-system,"Noto Sans TC","Microsoft JhengHei",sans-serif
}

/* 照片牆：原本就有，現在加高度限制 */
.g{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  max-height:66vh;        /* 約 2/3 螢幕 */
  overflow:hidden;       /* 下方不露出 */
}
.g img{
  width:100%;
  height:auto;
  display:block;
  background:#eee;
  cursor:zoom-in;
}
@media(max-width:900px){
  .g{grid-template-columns:repeat(2,1fr)}
}

/* 新增：燈箱（原本沒有） */
.lb{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.86);
  z-index:9999;
}
.lb.on{display:flex}
.lb img{
  max-width:96vw;
  max-height:96vh;
  object-fit:contain;
  background:#111;
}
</style>
</head>

<body>

<!-- 原本就有的照片牆 -->
<div id="gallery" class="g"></div>

<!-- 新增的燈箱 -->
<div id="lb" class="lb">
  <img id="big" alt="">
</div>

<script>
/* 這一段＝你原本能顯示全部照片的方式 */
const YEARS=[
  "1976","1977","1978","1979","1980",
  "1989","1991","1992","1995","1996",
  "1997","1999","2000","2001",
  "2011","2015","2016","2017","2018","2019","2022"
];

const G=document.getElementById("gallery");
const LB=document.getElementById("lb");
const BIG=document.getElementById("big");

/* 新增：燈箱開關 */
const openLB=(src)=>{
  BIG.src=src;
  LB.classList.add("on");
};
const closeLB=()=>{
  LB.classList.remove("on");
  BIG.src="";
};

LB.onclick=e=>{ if(e.target===LB) closeLB(); };
document.addEventListener("keydown",e=>{
  if(e.key==="Escape") closeLB();
});

/* 原本就能顯示照片的邏輯，不改 */
YEARS.forEach(y=>{
  for(let m=1;m<=12;m++)for(let d=1;d<=31;d++){
    const mm=String(m).padStart(2,"0");
    const dd=String(d).padStart(2,"0");
    const src=`img/${y}${mm}${dd}.jpg`;

    const img=new Image();
    img.loading="lazy";
    img.src=src;

    img.onload=()=>{
      img.onclick=()=>openLB(src);   // ← 這一行是「你要我加的」
      G.appendChild(img);
    };
  }
});
</script>

</body>
</html>
