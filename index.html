<style>
html, body {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}
</style>

<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8">
  <script>
(function () {
  function box(title, msg) {
    var el = document.getElementById('__errbox__');
    if (!el) {
      el = document.createElement('div');
      el.id = '__errbox__';
      el.style.cssText =
        'position:fixed;left:0;right:0;bottom:0;max-height:45vh;overflow:auto;' +
        'background:#111;color:#fff;z-index:999999;padding:10px;' +
        'font:12px/1.4 monospace;white-space:pre-wrap;';
      document.body.appendChild(el);
    }
    el.textContent += '\n[' + title + ']\n' + msg + '\n';
  }

  window.addEventListener('error', function (e) {
    box('window.error', (e.message || 'no message') + '\n' + (e.filename || '') + ':' + (e.lineno || 0) + ':' + (e.colno || 0));
  });

  window.addEventListener('unhandledrejection', function (e) {
    var r = e.reason;
    var msg = (r && (r.stack || r.message)) ? (r.stack || r.message) : String(r);
    box('unhandledrejection', msg);
  });

  // 顯示目前是否在 iframe
  window.addEventListener('DOMContentLoaded', function () {
    box('env', 'inIframe=' + (window.self !== window.top) + '\nurl=' + location.href);
  });
})();
</script>

<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Events</title>
<style>
body{margin:0;padding:14px;font-family:system-ui,-apple-system,"Noto Sans TC","Microsoft JhengHei",sans-serif}

/* 照片牆：只顯示約 2/3，高度以下不露出 */
.g{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:10px;
  max-height:66vh;
  overflow:hidden;
}
.g img{
  width:100%;
  height:auto;
  display:block;
  background:#eee;
  cursor:zoom-in;
}
@media(max-width:900px){.g{grid-template-columns:repeat(2,1fr)}}

/* 燈箱 */
.lb{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,.86);
  z-index:9999;
}
.lb.on{display:flex}
.lb img{
  max-width:96vw;
  max-height:96vh;
  object-fit:contain;
  background:#111;
}
</style>
</head>
<body>

<!-- 這裡放你「原本就會顯示」的照片牆（不要動） -->
<div class="g">
  <!-- 你原本的 <img src="img/xxx.jpg"> 全部留著 -->
</div>

<!-- 燈箱 -->
<div id="lb" class="lb"><img id="big" alt=""></div>

<script>
const lb=document.getElementById('lb');
const big=document.getElementById('big');

/* 只對已存在的圖片加放大 */
document.querySelectorAll('.g img').forEach(img=>{
  img.onclick=()=>{
    big.src=img.src;
    lb.classList.add('on');
  };
});

lb.onclick=()=>lb.classList.remove('on');
document.addEventListener('keydown',e=>{
  if(e.key==='Escape') lb.classList.remove('on');
});
</script>
<script>document.body.insertAdjacentHTML('afterbegin','<div style="position:fixed;top:0;left:0;z-index:999999;background:yellow;padding:6px 10px;font:14px/1 sans-serif;">Events iframe test OK</div>');</script>

</body>
</html>
